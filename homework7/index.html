<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 7</title>
</head>
<body>
    <p class="dropdown">Привет :)</p>
    <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Dropdown button
        </button>
        <div class="menu dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <a class="dropdown-item" href="#">Something else here</a>
        </div>
    </div>

    <script>
        "use strict";
        // 1. Ко всем элементам, имеющим класс "dropdown-item" добавить еще
        // один класс "super-dropdown", необходимо использовать методы forEach
        // и querySelectorAll и свойство classList у элементов.

        const dropItemList = document.querySelectorAll(".dropdown-item");
        dropItemList.forEach(el => el.classList.add("super-dropdown"));

        // 2. У элемента с классом btn необходимо убрать класс "btn-secondary",
        // если он присутствует у этого элемента, либо добавить, если такого класса у элемента не было.

        const btn = document.querySelector(".btn");
        console.log("До изменения btn\n" + btn.classList);
        if (btn.classList.contains("btn-secondary")) {
            btn.classList.remove("btn-secondary");
        } else {
            btn.classList.add("btn-secondary");
        }
        console.log("После изменения btn\n" + btn.classList);

        // 3. Необходимо удалить класс "dropdown-menu" у элемента, у которого присутствует класс "menu".

        const menuItem = document.querySelector(".menu");
        console.log("До изменения menuItem\n" + menuItem.classList);
        menuItem.classList.remove("dropdown-menu");
        console.log("После изменения menuItem\n" + menuItem.classList);

        // 4. Используя метод insertAdjacentHTML добавьте после div'a с классом "dropdown"
        // следующую разметку: `<a href="#">link</a>`
        const inputItem1 = document.createElement("a"); // ссылка для 1 варианта
        inputItem1.href = "#";
        inputItem1.textContent = "link1";
        inputItem1.style.color = "red";
        const inputItem2 = document.createElement("a"); // Ссылка для второго варианта
        inputItem2.href = "#";
        inputItem2.textContent = "link2";
        inputItem2.style.color = "green";

        // Вариант №1
        const dropDown = document.querySelector("div.dropdown");
        dropDown.insertAdjacentHTML("afterend", '<a href="#">link0</a>'); // Вариант вставки текстом
        dropDown.insertAdjacentElement("afterend", inputItem1); // Вариант вставки как элемента

        // Вариант 2
        const dropDownList = document.querySelectorAll(".dropdown");
        const dropDownDiv = [...dropDownList].filter(el => el.tagName == "DIV");
        dropDownDiv.forEach(el => el.insertAdjacentElement("afterend", inputItem2));
        // Видимо так как вставка происходила последовательно как встречаются в коде
        // то ссылки будут друг друга сдвигать и последовательность изменится
        // Синий, Красный, Зеленый ==> Зеленый, Красный, Синий

        // 5. У элемента с id "dropdownMenuButton" замените id на "superDropdown".

        const dropDownButton = document.querySelector("#dropdownMenuButton");
        dropDownButton.setAttribute("id", "superDropdown");

        // 6. Добавьте атрибут data-dd со значением 3 элементу у которого существует
        // атрибут "aria-labelledby" равный "dropdownMenuButton" используя dataset.

        const dataElem = document.querySelector("[aria-labelledby=dropdownMenuButton]");
        dataElem.dataset.dd = 3; // Как вообще определять числовое значение у аттрибута или строковое?
        // И если числовое надо ли его брать в кавычки? пробовал оба варианта, в рамках страницы
        // они отображаются одинаково

        // 7. Удалите атрибут type у элемента с классом "dropdown-toggle".

        const toggleElem = document.querySelector(".dropdown-toggle");
        toggleElem.removeAttribute("type");
    </script>
</body>
</html>